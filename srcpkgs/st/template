# Template file for 'st'
pkgname=st
version=5703aa0390484dd7da4bd9c388c85708d8fcd339
revision=1
build_style=gnu-makefile
make_use_env=compliant
hostmakedepends="pkg-config git"
makedepends="fontconfig-devel libX11-devel libXft-devel"
depends="ncurses font-sourcecodepro"
short_desc="Simple terminal implementation for X"
maintainer="Antoine Guilbaud <antoine.guilbaud@yahoo.fr>"
license="MIT"
homepage="https://st.suckless.org"
patch_args="-Np1"

do_fetch() {
    git clone https://git.suckless.org/st $wrksrc
    cd $wrksrc
    git reset --hard "$version"
}

pre_build() {
    [ -e ${FILESDIR}/config.h ] && cp ${FILESDIR}/config.h config.h
    sed -i '/tic/d' Makefile
}

post_install() {
    vdoc README
    vlicense LICENSE
    vinstall st.info 644 usr/share/terminfo/s
}
